// ============================================================================================= //
// Mixin: retina-compass
//
// Description: make HD images for HD mobiles screens
//
// Parameters:
//  - $image: file name, without extension
//  - $pixel-ratio: screen minimal pixel ratio, 1.5 by default
//  - $extension: file extension ("png" by default)
//  - $postfix: postfix for HD images reference ("_2x" by defaut)
//
// Inspired by:
//  - https://github.com/kaelig/hidpi
//  - http://www.brettjankord.com/2012/11/28/cross-browser-retinahigh-resolution-media-queries/
//
// ============================================================================================= //

@mixin retina($image, $pixel-ratio: 1.5, $extension: png, $postfix: _2x) {
    $image-name: "#{$image}.#{$extension}";
    $image-hd-name: "#{$image}#{$postfix}.#{$extension}";

    @media(-webkit-min-device-pixel-ratio: $pixel-ratio), (min-resolution: $pixel-ratio * 96dpi) {
        background-image: image-url($image-hd-name);
        background-size: image-width($image-name) image-height($image-name);
    }
}